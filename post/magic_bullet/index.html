<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <link rel="alternate" hreflang="en-us" href="https://sulmanolieko.github.io/post/magic_bullet">
  <meta name="theme-color" content="#795548"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css" crossorigin="anonymous" title="hl-light">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap">
  <link href="css/pattern.min.css" rel="stylesheet">
  <!--Google Webfonts-->
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <link rel="stylesheet" href="/css/academic.css">
  <link rel="stylesheet" href="/css/new-style.css"
  <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-MDK8S5X2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    function trackOutboundLink(url) {
      gtag('event', 'click', {
        'event_category': 'outbound',
        'event_label': url,
        'transport_type': 'beacon',
        'event_callback': function () {
          document.location = url;
        }
      });
      console.debug("Outbound link clicked: " + url);
    }

    function onClickCallback(event) {
      if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
        return;
      }
      trackOutboundLink(event.target);
    }

    gtag('js', new Date());
    gtag('config', 'GTM-MDK8S5X2', {});

    document.addEventListener('click', onClickCallback, false);
  </script>
  <link rel="alternate" href="/post/index.xml" type="application/rss+xml" title="Sulman Olieko">
  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">
  <link rel="canonical" href="https://sulmanolieko.github.io/post/magic_bullet">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Sulman Olieko">
  <meta property="og:url" content="https://sulmanolieko.github.io/post/magic_bullet">
  <meta property="og:title" content="Collatz | Sulman Olieko">
  <meta property="og:description" content="Why There Is No “Magic Bullet” for Causal Inference">
  <meta property="og:image" content="https://sulmanolieko.github.io/img/icon-192.png">
  <meta property="og:locale" content="en-us">
  <meta property="og:updated_time" content="2022-10-23T00:00:00&#43;00:00">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary">
  <meta property="twitter:url" content="https://sulmanolieko.github.io/post/magic_bullet">
  <meta property="twitter:title" content="Why There Is No “Magic Bullet” for Causal Inference">
  <meta property="twitter:description" content="Why There Is No “Magic Bullet” for Causal Inference">
  <meta property="twitter:image" content="https://sulmanolieko.github.io/img/icon-192.png">
  
  <!-- MathJax -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <!-- Prism Syntax Highlighting -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet">
    
  <title>No magic bullet in causal inferencing | Sulman Olieko</title>

  <style>
    /* Mimic the default <small> styling */
    .small-text {
      font-size: 80%;
    }
  </style>
</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents">

  <aside class="search-results" id="search">
    <div class="container">
      <section class="search-header">
        <div class="row no-gutters justify-content-between mb-3">
          <div class="col-6">
            <h1>Search</h1>
          </div>
          <div class="col-6 col-search-close">
            <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
          </div>
        </div>
        <div id="search-box">
          <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
            autocomplete="on" autocorrect="on" spellcheck="true" type="search">
        </div>
      </section>
      <section class="section-search-results">
        <div id="search-hits"></div>
      </section>
    </div>
  </aside>
  
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container">
      <a class="navbar-brand" href="/index">
        <img src="/img/ekonly-logo.svg" alt="Ekonly Logo" style="height: 40px;">
      </a>
      <button type="button" class="navbar-toggler" data-toggle="collapse"
        data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
  
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">
        <ul class="navbar-nav d-md-inline-flex">
          <li class="nav-item">
            <a class="nav-link" href="/index.html" data-target="/index.html"><span>Homepage</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/publication/index.html" data-target="/publication/index.html"><span>Publications</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/post/index.html" data-target="/post/index.html"><span>Blogs</span></a>
          </li>
        </ul>
      </div>
  
      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
        <li class="nav-item">
          <a class="nav-link" href="/cv/#viewer"><strong>CV</strong><i aria-hidden="true"></i></a>
      </li>
        <li class="nav-item">
          <a class="nav-link" href="mailto:oliekosulman@gmail.com"><i class="fas fa-envelope fa-1x" aria-hidden="true"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
      </ul>
  
    </div>
  </nav>
  
  <style>
    .note-box {
      background-color: #fff;
      padding: 15px;
      margin: 7px;
      box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.01);
      border-radius: 5px;
      font-family: Arial, sans-serif;
      line-height: 1.5;
      border-left: 5px solid orange;
      overflow: visible;
    }
    
    /* Individual type styles */
    .note-box-pub {
      border-left-color: #795548;
      background-color: #f7e6e1;
    }
  </style>
          <!-- Breadcrumb -->
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/index.html" aria-label="Home"><i class="fa fa-home" aria-hidden="true"></i></a></li>
          <li class="breadcrumb-item"><a href="/post/">Blogs</a></li>
          <li class="breadcrumb-item active" aria-current="page">No Magic bullet</li>
        </ol>
      </nav>
  <!-- Main Content -->
  <main class="container mt-5 pt-5">
    <article class="p-4 p-md-5 h-100">
      <header class="mb-5">
        <h2 class="h3 mb-3">Why There is No “Magic Bullet” for Causal Inference using Observational Data</h2>
        <div class="d-flex align-items-center text-muted">
          <!-- Tags -->
          <div class="d-flex">
            <button class="btn btn-outline-primary btn-sm me-2">Data analysis</button>
            <span class="middot-divider mx-2">•</span>
            <button class="btn btn-outline-primary btn-sm">Opinion</button>
            <span class="middot-divider mx-2">•</span>
            <button class="btn btn-outline-primary btn-sm">Research</button>
          </div>
        </div>
      </header>
  
      <!-- Featured Image -->
      <figure class="figure mb-5">
        <img src="/img/magic_bullet.webp" class="figure-img img-fluid rounded" alt="AI image">
        <figcaption class="figure-caption text-center mt-2">
          <span class="small-text">Fig 1: AI-generated image illustrating the challenges in causal inferencing</span>
        </figcaption>
      </figure>
  
      <!-- Article Content -->
      <div class="article-content">
        <section class="mb-5">
          <div class="small-text">
            <strong>Introduction</strong>
            <hr>
            <p>
              Causal inference represents one of the most challenging pursuits in empirical research—a true intellectual frontier where statistical methods and substantive domain knowledge converge. Questions such as “Does a novel policy enhance productivity?” or “Can public health interventions measurably reduce morbidity?” require not only robust data but also rigorous, context-aware analytical frameworks.
            </p>
            <p>
              This post examines the inherent limitations of what some consider “shortcut” methodologies—like propensity score matching or sensitivity analyses (E-values)—and explains why no single method can provide an infallible answer. Instead, it argues for a comprehensive, thoughtful approach to causal inference that synthesizes diverse techniques and deep subject-matter expertise.
            </p>
  
            <strong>The Complexity of Observational Data</strong>
            <hr>
            <p>
              Unlike controlled experiments, observational data are by nature messy and imbued with real-world complexities. Researchers seldom have the luxury of random assignment, and as a result, the data are vulnerable to several validity threats:
            </p>
            <ol>
              <li><strong>Selection Bias:</strong> The characteristics of individuals or units that receive a treatment may systematically differ from those that do not, thereby skewing the observed effect.</li>
              <li><strong>Confounding Factors:</strong> Unmeasured variables may simultaneously influence both the treatment and the outcome, obscuring the true causal relationship.</li>
              <li><strong>Reverse Causality:</strong> The possibility that the outcome may, in turn, affect the treatment cannot be ruled out in observational settings.</li>
            </ol>
            <p>
              As a consequence, no statistical adjustment—be it regression analysis or propensity score matching—can completely neutralize these inherent biases without careful consideration of underlying assumptions and external evidence.
            </p>
  
            <strong>Limitations of Shortcut Methods</strong>
            <hr>
            <p>
              It is a common misconception that complex statistical procedures alone can resolve the challenges of observational research. For example:
            </p>
            <ul>
              <li><strong>Propensity Score Matching:</strong> Although it balances observed covariates across groups, it does not remedy bias stemming from unobserved confounders.</li>
              <li><strong>Sensitivity Analysis (E-values):</strong> This tool quantifies how robust an effect might be to hidden bias, yet it does not confirm the absence or magnitude of such confounding influences.</li>
              <li><strong>Automated Machine Learning Algorithms:</strong> While these methods enhance model selection and prediction, they remain agnostic to the nuanced causal mechanisms at work and cannot substitute for domain expertise.</li>
            </ul>
            <p>
              In essence, reliance on any one of these approaches without a thorough theoretical and contextual examination is akin to expecting a “magic bullet” to deliver definitive causal insights.
            </p>
  
            <strong>Difference-in-Differences (DiD) as an Analytical Framework</strong>
            <hr>
            <p>
              The Difference-in-Differences (DiD) methodology is one of the most widely used quasi-experimental approaches in observational studies. DiD capitalizes on temporal variations by comparing outcome changes in a treatment group to those in a control group over time. The underlying assumption is that, in the absence of the intervention, both groups would have evolved in parallel.
            </p>
            <p>
              However, the credibility of DiD estimates rests on several critical assumptions:
            </p>
            <ul>
              <li><strong>Parallel Trends:</strong> Absent the intervention, the evolution of outcomes in both groups would be similar. Divergence in pre-treatment trends can invalidate this assumption.</li>
              <li><strong>No Anticipation:</strong> Subjects must not alter their behavior in expectation of the treatment, as pre-treatment adjustments can contaminate the estimated effect.</li>
              <li><strong>Stable Unit Treatment Value Assumption (SUTVA):</strong> The treatment applied to one unit should not affect the outcomes of another, ensuring that the observed changes can be solely attributed to the intervention.</li>
            </ul>
            <p>
              When these assumptions hold, DiD can provide compelling evidence regarding causal effects. Nonetheless, its application demands rigorous verification through pre-trend analyses, robustness checks, and careful contextual interpretation.
            </p>
  
            <section>
              <strong>Real-World Considerations and Caveats</strong>
              <hr>
              <p>
                Even with an ostensibly robust DiD design, researchers must remain vigilant about several practical challenges:
              </p>
              <ul>
                <li><strong>Verification of Parallel Trends:</strong> Pre-treatment data should be scrutinized to ensure that both groups follow similar trajectories before the intervention.</li>
                <li><strong>Impact of External Shocks:</strong> Unrelated events, such as economic downturns or public health crises, can differentially affect treatment and control groups, thereby confounding causal interpretations.</li>
                <li><strong>Potential Spillover Effects:</strong> When the intervention indirectly influences control units (for example, through regional economic linkages), the estimated effect may be diluted or biased.</li>
                <li><strong>Substantive vs. Statistical Significance:</strong> Even statistically significant results must be interpreted in light of their practical implications, ensuring that the magnitude of the effect is both meaningful and plausible.</li>
                <li><strong>Robustness and Sensitivity:</strong> Complementary analyses—such as event studies, placebo tests, and alternative model specifications—are essential to build confidence in the causal claims.</li>
              </ul>
              <p>
                In the realm of observational studies, no single method or shortcut can substitute for a meticulous, context-driven analysis. The process of causal inference remains an iterative dialogue between data, theory, and substantive expertise.
              </p>
            </section>
  
            <p>
              <strong>The Imperative of Rigorous Scientific Judgment</strong>
              <hr>
              <p>
                In conclusion, while advanced statistical methods like DiD and propensity score matching offer valuable tools for causal analysis, they are not panaceas. Rather, they must be embedded within a broader framework of critical inquiry—one that rigorously interrogates assumptions, integrates domain knowledge, and continuously refines its theoretical underpinnings.
              </p>
              <p>
                As scholars and practitioners, we must acknowledge that causal inference in observational research is as much an art as it is a science. There is no “magic bullet” that can supplant the need for thoughtful, context-aware analysis. Instead, a multi-faceted approach—grounded in robust methodology and enriched by substantive expertise—remains the most reliable path to uncovering causal truths.
              </p>
            </p>
          </div>
        </section>
                    
        <section>
          <div class="small-text">
            <strong>Further Reading</strong>
            <hr>
            <ul>
              <li>Angrist, J. D., &amp; Pischke, J.-S. (2009). <em>Mostly Harmless Econometrics: An Empiricist’s Companion.</em></li>
              <li>Imbens, G. W., &amp; Rubin, D. B. (2015). <em>Causal Inference for Statistics, Social, and Biomedical Sciences.</em></li>
              <li>Callaway, B., &amp; Sant’Anna, P. H. (2021). “Difference-in-Differences with Multiple Time Periods and an Application on the Minimum Wage.” <em>Journal of Econometrics.</em></li>
              <li>Cole, S. R., &amp; Hernán, M. A. (2002). “Constructing Inverse Probability Weights for Marginal Structural Models.” <em>American Journal of Epidemiology.</em></li>
            </ul>
          </div>
        </section>
                    
        <section>
          <div class="small-text">
            <h4>Author’s Note</h4>
            <hr>
            <p>
              <em>
                When implementing quasi-experimental methods like DiD, it is imperative to contextualize your findings within the broader framework of your research. Engage with domain experts, perform rigorous robustness checks, and never lose sight of the underlying assumptions. Remember: methodologies are tools to aid scientific inquiry—not substitutes for careful reasoning and critical analysis.
              </em>
            </p>
          </div>
        </section>
  
      </div>
    </article>

  <section>
    <div class="d-flex align-items-center text-muted">
      <!-- Author Image -->
      <img src="/authors/admin/home_avatar.png" alt="Sulman Olieko" class="rounded-circle me-2" width="40" height="40">
      <!-- Author Details and Metadata -->
      <div class="d-flex flex-column ms-2">
        <!-- Author Name and Date -->
        <div class="d-flex align-items-center mb-2">
          <span class="me-2"><span class="small-text">Sulman Olieko</span></span>
          <span class="middot-divider mx-2">•</span>
          <time datetime="2023-10-06" class="text-small"><span class="small-text">January 26, 2025</span></time>
        </div>
      </div>
    </div>
  </section>
    <div><span>  </span></div>
    <!-- Archive -->
    <div class="row">
      <div class="col-md-6">
        <div class="note-box card-simple view-card">
          <div class="d-flex align-items-center">
            <!-- Text Content -->
            <div class="flex-grow-1">
              <h5 class="h5 card-title">Previous Post</h5>
              <p class="card-text">
                <span class="small-text">
                  <a href="/post/Collatz/" style="font-weight: bold;">
                    Exploring the Collatz Conjecture with CollatzR
                  </a>
                </span>
              </p>
            </div>
            <!-- Linked Image -->
            <div class="ms-4">
              <a href="/post/Collatz/">
                <img src="/img/collatzR.png" alt="AI image" style="width: 200px; height: auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
              </a>
            </div>
          </div>
        </div>
      </div>
        
      <div class="col-md-6">
        <div class="note-box card-simple view-card">
          <div class="d-flex align-items-center">
            <!-- Text Content -->
            <div class="flex-grow-1">
              <h5 class="h5 card-title">Next Post</h5>
              <p class="card-text">
                <span class="small-text">
                  <a href="/post/reflection/" style="font-weight: bold;">
                    Reflection Problem in Econometrics
                  </a>
                </span>
              </p>
            </div>
            <!-- Linked Image -->
            <div class="ms-4">
              <a href="/post/reflection/">
                <img src="/img/reflection.jpg" alt="AI image" style="width: 200px; height: 130px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <a href="https://api.whatsapp.com/send?phone=+254710209720&text=Hello!%20I%20came%20across%20your%20website%20and%20would%20like%20to%20learn%20more%20about%20your%20services.%20Can%20you%20please%20assist%20me%3F" 
    class="floating" target="_blank">
    <i class="fab fa-whatsapp float-button"></i>
  </a>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js" integrity="sha256-1zu+3BnLYV9LdiY85uXMzii3bdrkelyp37e0ZyTAQh0=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/r.min.js"></script>
  <script>const code_highlighting = true;</script>
  <script>
    const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
    const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
    const content_type = {
      'post': "Posts",
      'project': "Projects",
      'publication' : "Publications",
      'talk' : "Talks"
    };
  </script>
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
    
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
  <script src="/js/academic.min.bcfae8267aba63cc55af53a503896bd9.js"></script>
  
    <footer>
    <div class="footer-content">
      <!-- Left Section -->
      <div class="footer-left">
        <!-- Dynamic year -->
        <p>&copy; <span id="dynamicYear"></span> Sulman Olieko Owili. All Rights Reserved.</p>
      </div>

      <!-- Center Section: Newsletter -->
      <div class="footer-center">
        <div class="newsletter-box">
          <input type="email" id="newsletterEmail" placeholder="Your Email" required />
          <button type="button" onclick="subscribeNewsletter()">Subscribe</button>
        </div>
        <!-- error message container -->
        <span id="newsletterError" class="error-message" style="display: none;"></span>
        
      </div>

      <!-- Right Section: Academic / Social Links -->
      <div class="footer-right">
        <ul class="network-icon" aria-hidden="true"> 
        <li>
          <a href="https://www.webofscience.com/wos/author/record/MIN-3034-2025" target="_blank" rel="noopener">
            <i class="ai ai-clarivate-square big-icon"></i>
          </a>
        </li> 
        <li>
          <a href="https://orcid.org/0000-0001-7401-5326" target="_blank" rel="noopener">
            <i class="fab fa-orcid big-icon"></i>
          </a>
        </li> 
        <li>
          <a href="https://www.researchgate.net/profile/Sulman-Owili" target="_blank" rel="noopener">
              <i class="fab fa-researchgate big-icon"></i>
          </a>
        </li> 
        <li>
          <a href="https://scholar.google.com/citations?user=WYivQV4AAAAJ&hl=en" target="_blank" rel="noopener">
            <i class="ai ai-google-scholar big-icon"></i>
          </a>
        </li> 
        <li>
          <a href="https://github.com/SulmanOlieko" target="_blank" rel="noopener">
            <i class="fab fa-github big-icon"></i>
          </a>
        </li>      
        <li>
           <a href="#viewer" target="#viewer">
            <i class="ai ai-cv big-icon"></i>
          </a>
        </li> 
      </ul>
      </div>

    <div class="back-to-top">
      <button onclick="scrollToTop()">↑</button>
    </div>
    </div>
  </footer>

  <script>
    // Scroll to top behavior
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Dynamic year
    document.getElementById('dynamicYear').textContent = new Date().getFullYear();

    // Newsletter subscription with better validation
    function subscribeNewsletter() {
      const emailInput = document.getElementById('newsletterEmail');
      const errorMsg = document.getElementById('newsletterError');
      const email = emailInput.value.trim();

      // Basic email pattern check
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

      if (!email) {
        errorMsg.textContent = 'Please enter your email address.';
        errorMsg.style.display = 'block';
        return;
      } else if (!emailRegex.test(email)) {
        errorMsg.textContent = 'Please enter a valid email address.';
        errorMsg.style.display = 'block';
        return;
      }

      // No errors => proceed
      errorMsg.style.display = 'none';
      alert(`Thanks for subscribing, ${email}!`);

      // Reset the input (optional)
      emailInput.value = '';
    }
  </script>
      <script>
    // Toggle the navigation drawer on button click
    const toggleButton = document.getElementById('nav-toggle');
    const navDrawer = document.getElementById('nav-drawer');

    toggleButton.addEventListener('click', () => {
      navDrawer.classList.toggle('open');
      // Update ARIA state for accessibility
      const isOpen = navDrawer.classList.contains('open');
      navDrawer.setAttribute('aria-hidden', !isOpen);
    });

    // Close the drawer when a navigation link is clicked
    document.querySelectorAll('#nav-drawer .nav-link').forEach(link => {
      link.addEventListener('click', (event) => {
        navDrawer.classList.remove('open');
        navDrawer.setAttribute('aria-hidden', 'true');
        // Smooth scrolling to section
        event.preventDefault();
        document.querySelector(link.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
        });
      });
    });
  </script>

</body>
</html>
